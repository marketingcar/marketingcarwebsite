var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,a=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&o(e,r,t[r]);if(s)for(var r of s(t))n.call(t,r)&&o(e,r,t[r]);return e},l=(e,s)=>t(e,r(s)),c=(e,t)=>{var r={};for(var o in e)i.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&s)for(var o of s(e))t.indexOf(o)<0&&n.call(e,o)&&(r[o]=e[o]);return r},u=(e,t,r)=>new Promise((s,i)=>{var n=e=>{try{a(r.next(e))}catch(t){i(t)}},o=e=>{try{a(r.throw(e))}catch(t){i(t)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,o);a((r=r.apply(e,t)).next())});import{R as d,j as h,X as p,r as f,U as g,B as m,W as y,H as v,C as b,L as w,S as _,d as k,u as x,e as S,M as j,N as T,f as E,F as C,g as P,T as O,h as A,i as I,k as $,l as R,m as M,n as N,o as D,p as L}from"./react-vendor-cd5379b4.js";import{V as W,R as B,A as U,C as z,T as q,D as F,P as G,S as H}from"./radix-ui-b14e77f2.js";import{A as K,m as V}from"./framer-motion-c3a037bd.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const J={},Y=function(e,t,r){if(!t||0===t.length)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in J)return;J[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(!!r)for(let r=s.length-1;r>=0;r--){const i=s[r];if(i.href===e&&(!t||"stylesheet"===i.rel))return}else if(document.querySelector(`link[href="${e}"]${i}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})};function X(e){var t,r,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=X(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Q(){for(var e,t,r=0,s="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=X(e))&&(s&&(s+=" "),s+=t);return s}function Z(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=ee(e))&&(s&&(s+=" "),s+=t);return s}function ee(e){if("string"==typeof e)return e;for(var t,r="",s=0;s<e.length;s++)e[s]&&(t=ee(e[s]))&&(r&&(r+=" "),r+=t);return r}function te(e){var t=function(e){var t=e.theme,r=e.prefix,s={nextPart:new Map,validators:[]},i=function(e,t){if(!t)return e;return e.map(function(e){return[e[0],e[1].map(function(e){return"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(function(e){var r=e[0],s=e[1];return[t+r,s]})):e})]})}(Object.entries(e.classGroups),r);return i.forEach(function(e){var r=e[0];ie(e[1],s,r,t)}),s}(e),r=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,i=void 0===s?{}:s;return{getClassGroupId:function(e){var r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),re(r,t)||function(e){if(se.test(e)){var t=se.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}(e)},getConflictingClassGroupIds:function(e,t){var s=r[e]||[];return t&&i[e]?[].concat(s,i[e]):s}}}function re(e,t){var r;if(0===e.length)return t.classGroupId;var s=e[0],i=t.nextPart.get(s),n=i?re(e.slice(1),i):void 0;if(n)return n;if(0!==t.validators.length){var o=e.join("-");return null==(r=t.validators.find(function(e){return(0,e.validator)(o)}))?void 0:r.classGroupId}}var se=/^\[(.+)\]$/;function ie(e,t,r,s){e.forEach(function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void ie(e(s),t,r,s):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(function(e){var i=e[0];ie(e[1],ne(t,i),r,s)})}else{(""===e?t:ne(t,e)).classGroupId=r}})}function ne(e,t){var r=e;return t.split("-").forEach(function(e){r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r}function oe(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,s=new Map;function i(i,n){r.set(i,n),++t>e&&(t=0,s=r,r=new Map)}return{get:function(e){var t=r.get(e);return void 0!==t?t:void 0!==(t=s.get(e))?(i(e,t),t):void 0},set:function(e,t){r.has(e)?r.set(e,t):i(e,t)}}}function ae(e){var t=e.separator||":",r=1===t.length,s=t[0],i=t.length;return function(e){for(var n,o=[],a=0,l=0,c=0;c<e.length;c++){var u=e[c];if(0===a){if(u===s&&(r||e.slice(c,c+i)===t)){o.push(e.slice(l,c)),l=c+i;continue}if("/"===u){n=c;continue}}"["===u?a++:"]"===u&&a--}var d=0===o.length?e:e.substring(l),h=d.startsWith("!");return{modifiers:o,hasImportantModifier:h,baseClassName:h?d.substring(1):d,maybePostfixModifierPosition:n&&n>l?n-l:void 0}}}var le=/\s+/;function ce(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s,i,n,o=function(e){var r=t[0],c=t.slice(1).reduce(function(e,t){return t(e)},r());return s=function(e){return a({cache:oe(e.cacheSize),splitModifiers:ae(e)},te(e))}(c),i=s.cache.get,n=s.cache.set,o=l,l(e)};function l(e){var t=i(e);if(t)return t;var r=function(e,t){var r=t.splitModifiers,s=t.getClassGroupId,i=t.getConflictingClassGroupIds,n=new Set;return e.trim().split(le).map(function(e){var t=r(e),i=t.modifiers,n=t.hasImportantModifier,o=t.baseClassName,a=t.maybePostfixModifierPosition,l=s(a?o.substring(0,a):o),c=Boolean(a);if(!l){if(!a)return{isTailwindClass:!1,originalClassName:e};if(!(l=s(o)))return{isTailwindClass:!1,originalClassName:e};c=!1}var u=function(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(e){"["===e[0]?(t.push.apply(t,r.sort().concat([e])),r=[]):r.push(e)}),t.push.apply(t,r.sort()),t}(i).join(":");return{isTailwindClass:!0,modifierId:n?u+"!":u,classGroupId:l,originalClassName:e,hasPostfixModifier:c}}).reverse().filter(function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,r=e.classGroupId,s=e.hasPostfixModifier,o=t+r;return!n.has(o)&&(n.add(o),i(r,s).forEach(function(e){return n.add(t+e)}),!0)}).reverse().map(function(e){return e.originalClassName}).join(" ")}(e,s);return n(e,r),r}return function(){return o(Z.apply(null,arguments))}}function ue(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var de=/^\[(?:([a-z-]+):)?(.+)\]$/i,he=/^\d+\/\d+$/,pe=new Set(["px","full","screen"]),fe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ge=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,me=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ye(e){return xe(e)||pe.has(e)||he.test(e)||ve(e)}function ve(e){return Oe(e,"length",Ae)}function be(e){return Oe(e,"size",Ie)}function we(e){return Oe(e,"position",Ie)}function _e(e){return Oe(e,"url",$e)}function ke(e){return Oe(e,"number",xe)}function xe(e){return!Number.isNaN(Number(e))}function Se(e){return e.endsWith("%")&&xe(e.slice(0,-1))}function je(e){return Re(e)||Oe(e,"number",Re)}function Te(e){return de.test(e)}function Ee(){return!0}function Ce(e){return fe.test(e)}function Pe(e){return Oe(e,"",Me)}function Oe(e,t,r){var s=de.exec(e);return!!s&&(s[1]?s[1]===t:r(s[2]))}function Ae(e){return ge.test(e)}function Ie(){return!1}function $e(e){return e.startsWith("url(")}function Re(e){return Number.isInteger(Number(e))}function Me(e){return me.test(e)}function Ne(){var e=ue("colors"),t=ue("spacing"),r=ue("blur"),s=ue("brightness"),i=ue("borderColor"),n=ue("borderRadius"),o=ue("borderSpacing"),a=ue("borderWidth"),l=ue("contrast"),c=ue("grayscale"),u=ue("hueRotate"),d=ue("invert"),h=ue("gap"),p=ue("gradientColorStops"),f=ue("gradientColorStopPositions"),g=ue("inset"),m=ue("margin"),y=ue("opacity"),v=ue("padding"),b=ue("saturate"),w=ue("scale"),_=ue("sepia"),k=ue("skew"),x=ue("space"),S=ue("translate"),j=function(){return["auto",Te,t]},T=function(){return[Te,t]},E=function(){return["",ye]},C=function(){return["auto",xe,Te]},P=function(){return["","0",Te]},O=function(){return[xe,ke]},A=function(){return[xe,Te]};return{cacheSize:500,theme:{colors:[Ee],spacing:[ye],blur:["none","",Ce,Te],brightness:O(),borderColor:[e],borderRadius:["none","","full",Ce,Te],borderSpacing:T(),borderWidth:E(),contrast:O(),grayscale:P(),hueRotate:A(),invert:P(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[Se,ve],inset:j(),margin:j(),opacity:O(),padding:T(),saturate:O(),scale:O(),sepia:P(),skew:A(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Ce]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Te])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",je]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",je]}],"grid-cols":[{"grid-cols":[Ee]}],"col-start-end":[{col:["auto",{span:["full",je]},Te]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[Ee]}],"row-start-end":[{row:["auto",{span:[je]},Te]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Te,t]}],"min-w":[{"min-w":["min","max","fit",Te,ye]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ce]},Ce,Te]}],h:[{h:[Te,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Te,ye]}],"max-h":[{"max-h":[Te,t,"min","max","fit"]}],"font-size":[{text:["base",Ce,ve]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ke]}],"font-family":[{font:[Ee]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",xe,ke]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Te,ye]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ye]}],"underline-offset":[{"underline-offset":["auto",Te,ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[we])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",be]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_e]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[Te,ye]}],"outline-w":[{outline:[ye]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ye]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ce,Pe]}],"shadow-color":[{shadow:[Ee]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ce,Te]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[je,Te]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ye,ke]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var De=ce(Ne);function Le(...e){return De(Q(e))}const We=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Be=Q,Ue=(e,t)=>r=>{var s;if(null==(null==t?void 0:t.variants))return Be(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:i,defaultVariants:n}=t,o=Object.keys(i).map(e=>{const t=null==r?void 0:r[e],s=null==n?void 0:n[e];if(null===t)return null;const o=We(t)||We(s);return i[e][o]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{}),u=null==t||null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let r=t,{class:s,className:i}=r,o=c(r,["class","className"]);return Object.entries(o).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes(a(a({},n),l)[t]):a(a({},n),l)[t]===r})?[...e,s,i]:e},[]);return Be(e,o,u,null==r?void 0:r.class,null==r?void 0:r.className)},ze=G,qe=d.forwardRef((e,t)=>{var r=e,{className:s}=r,i=c(r,["className"]);return h.jsx(W,a({ref:t,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s)},i))});qe.displayName=W.displayName;const Fe=Ue("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ge=d.forwardRef((e,t)=>{var r=e,{className:s,variant:i}=r,n=c(r,["className","variant"]);return h.jsx(B,a({ref:t,className:Le(Fe({variant:i}),s)},n))});Ge.displayName=B.displayName;d.forwardRef((e,t)=>{var r=e,{className:s}=r,i=c(r,["className"]);return h.jsx(U,a({ref:t,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s)},i))}).displayName=U.displayName;const He=d.forwardRef((e,t)=>{var r=e,{className:s}=r,i=c(r,["className"]);return h.jsx(z,l(a({ref:t,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":""},i),{children:h.jsx(p,{className:"h-4 w-4"})}))});He.displayName=z.displayName;const Ke=d.forwardRef((e,t)=>{var r=e,{className:s}=r,i=c(r,["className"]);return h.jsx(q,a({ref:t,className:Le("text-sm font-semibold",s)},i))});Ke.displayName=q.displayName;const Ve=d.forwardRef((e,t)=>{var r=e,{className:s}=r,i=c(r,["className"]);return h.jsx(F,a({ref:t,className:Le("text-sm opacity-90",s)},i))});Ve.displayName=F.displayName;let Je=0;const Ye={state:{toasts:[]},listeners:[],getState:()=>Ye.state,setState:e=>{Ye.state="function"==typeof e?e(Ye.state):a(a({},Ye.state),e),Ye.listeners.forEach(e=>e(Ye.state))},subscribe:e=>(Ye.listeners.push(e),()=>{Ye.listeners=Ye.listeners.filter(t=>t!==e)})},Xe=e=>{var t=c(e,[]);const r=(Je=(Je+1)%Number.MAX_VALUE,Je.toString()),s=()=>Ye.setState(e=>l(a({},e),{toasts:e.toasts.filter(e=>e.id!==r)}));return Ye.setState(e=>l(a({},e),{toasts:[l(a({},t),{id:r,dismiss:s}),...e.toasts].slice(0,1)})),{id:r,dismiss:s,update:e=>Ye.setState(t=>l(a({},t),{toasts:t.toasts.map(t=>t.id===r?a(a({},t),e):t)}))}};function Qe(){const[e,t]=f.useState(Ye.getState());return f.useEffect(()=>Ye.subscribe(e=>{t(e)}),[]),f.useEffect(()=>{const t=[];return e.toasts.forEach(e=>{if(e.duration===1/0)return;const r=setTimeout(()=>{e.dismiss()},e.duration||5e3);t.push(r)}),()=>{t.forEach(e=>clearTimeout(e))}},[e.toasts]),{toast:Xe,toasts:e.toasts}}function Ze(){const{toasts:e}=Qe();return h.jsxs(ze,{children:[e.map(e=>{var t=e,{id:r,title:s,description:i,action:n}=t,o=c(t,["id","title","description","action"]);return h.jsxs(Ge,l(a({},o),{children:[h.jsxs("div",{className:"grid gap-1",children:[s&&h.jsx(Ke,{children:s}),i&&h.jsx(Ve,{children:i})]}),n,h.jsx(He,{})]}),r)}),h.jsx(qe,{})]})}const et=Ue("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tt=d.forwardRef((e,t)=>{var r=e,{className:s,variant:i,size:n,asChild:o=!1}=r,l=c(r,["className","variant","size","asChild"]);const u=o?H:"button";return h.jsx(u,a({className:Le(et({variant:i,size:n,className:s})),ref:t},l))});tt.displayName="Button";const rt=[{slug:"marketing-strategy",title:"Marketing Strategy",description:"Develop a comprehensive plan to achieve your business goals.",subtitle:"A clear roadmap to navigate the competitive landscape and drive measurable growth.",longDescription:"<p>We dive deep into your business to craft a bespoke marketing strategy that aligns with your objectives. Our process includes market research, competitive analysis, and identifying your target audience to create a roadmap for success. We focus on measurable results and long-term growth.</p>",whatsIncluded:["In-depth market and competitor analysis","Target audience profiling and segmentation","Goal setting and KPI definition","Multi-channel strategy development (digital & offline)","Budget allocation and ROI forecasting"],meta:{title:"Marketing Strategy Services | Marketing Car",description:"Develop a comprehensive marketing plan with Marketing Car to achieve your business goals through expert analysis, planning, and execution.",ogTitle:"Custom Marketing Strategy Services | Marketing Car",ogDescription:"Let's build a roadmap for your success. Our marketing strategy services include in-depth analysis, goal setting, and multi-channel planning to drive growth."},icon:"üìà"},{slug:"local-near-me-marketing",title:"Local/Near Me Marketing",description:"Attract local customers and dominate your geographic market.",subtitle:"Be the first choice for customers in your neighborhood.",longDescription:"<p>Capture the 'near me' search traffic and drive footfall to your physical locations. We optimize your online presence for local search, manage your local listings, and run geographically targeted campaigns to make you the go-to choice in your area.</p>",whatsIncluded:["Google Business Profile optimization","Local SEO and citation building","Geofenced advertising campaigns","Reputation management on local review sites","Local content and event marketing"],meta:{title:"Local Marketing & Near Me SEO | Marketing Car",description:"Dominate your local market with our Local & 'Near Me' Marketing services. We help you attract nearby customers through targeted SEO and advertising.",ogTitle:"Attract Local Customers | Near Me Marketing Services",ogDescription:"Be the top choice in your area. Our local marketing strategies boost your visibility in 'near me' searches and drive foot traffic to your business."},icon:"üìç"},{slug:"graphic-design",title:"Graphic Design",description:"Create stunning visuals that capture attention and convey your message.",subtitle:"Make a lasting impression with designs that tell your story.",longDescription:"<p>Our talented designers create visually compelling assets that tell your brand's story. From digital ads to print materials, we ensure every design is not only beautiful but also strategically effective in communicating your message and driving engagement.</p>",whatsIncluded:["Logo and brand identity design","Social media graphics and templates","Digital ad creatives","Infographics and data visualization","Brochures, flyers, and print materials"],meta:{title:"Graphic Design Services | Marketing Car",description:"Capture attention with stunning visuals from Marketing Car. Our graphic design services cover everything from brand identity to digital and print materials.",ogTitle:"Creative Graphic Design for Your Brand | Marketing Car",ogDescription:"From logos to social media graphics, our designers create visuals that are not only beautiful but strategically effective. Tell your brand's story with style."},icon:"üé®"},{slug:"b2b-marketing",title:"B2B Marketing",description:"Drive growth with strategies tailored for business-to-business clients.",subtitle:"Connect with key decision-makers and build valuable partnerships.",longDescription:"<p>Navigating the B2B landscape requires a specialized approach. We develop targeted marketing strategies that focus on long sales cycles, multiple decision-makers, and building valuable business relationships. Our goal is to generate high-quality leads and establish your company as an industry leader.</p>",whatsIncluded:["Account-Based Marketing (ABM) strategy and execution","LinkedIn and professional network advertising","B2B lead generation and nurturing funnels","Content creation for decision-makers (whitepapers, case studies)","CRM and marketing automation integration"],meta:{title:"B2B Marketing Services | Marketing Car",description:"Drive growth with B2B marketing strategies from Marketing Car. We specialize in lead generation, ABM, and connecting you with key business clients.",ogTitle:"Expert B2B Marketing Strategies | Marketing Car",ogDescription:"Navigate the B2B landscape with confidence. We develop targeted campaigns to generate high-quality leads and build lasting business relationships."},icon:"ü§ù"},{slug:"brand-strategy-design",title:"Brand Strategy & Design",description:"Build a powerful and memorable brand identity from the ground up.",subtitle:"Craft a brand that connects, resonates, and stands out.",longDescription:"<p>A strong brand is more than just a logo. We help you define your brand's purpose, values, and voice. Then, we translate that strategy into a cohesive visual identity that resonates with your audience and sets you apart from the competition.</p>",whatsIncluded:["Brand discovery and positioning workshops","Voice and tone development","Complete visual identity system (logo, color, typography)","Comprehensive brand guidelines","Brand messaging and storytelling framework"],meta:{title:"Brand Strategy & Design Services | Marketing Car",description:"Build a memorable brand with Marketing Car. Our services cover brand strategy, messaging, and complete visual identity design to make you stand out.",ogTitle:"Craft a Powerful Brand Identity | Marketing Car",ogDescription:"Go beyond a logo. We help you build a cohesive brand experience, from strategy and voice to a stunning visual identity that connects with your audience."},icon:"‚ú®"},{slug:"marketing-consultation",title:"Marketing Consultation",description:"Get expert advice and actionable insights tailored to your unique challenges.",subtitle:"Expert guidance to navigate your marketing roadblocks.",longDescription:"<p>Need a fresh perspective or expert guidance? Our marketing consultations provide you with direct access to our strategists. We'll help you tackle specific challenges, evaluate your current efforts, and identify opportunities for growth.</p>",whatsIncluded:["One-on-one strategy sessions","Marketing audit and performance review","Campaign planning and brainstorming","Technology stack recommendations","Team training and upskilling"],meta:{title:"Marketing Consultation Services | Marketing Car",description:"Get expert marketing advice from Marketing Car. Our consultation services provide actionable insights to overcome your challenges and identify growth opportunities.",ogTitle:"Expert Marketing Advice & Consultation | Marketing Car",ogDescription:"Stuck on a marketing problem? Book a consultation for a fresh perspective, performance reviews, and strategic guidance to get you back on the road to growth."},icon:"üí°"},{slug:"seo-strategy",title:"SEO",description:"Climb search rankings and drive organic traffic.",subtitle:"Drive high-quality, organic traffic to your website.",longDescription:"<p>We improve your visibility on search engines like Google to attract high-quality organic traffic. Our approach covers all pillars of SEO, including technical optimization, on-page content, and authoritative link building, to secure sustainable rankings.</p>",whatsIncluded:["Comprehensive SEO audits","Keyword research and mapping","Technical SEO (site speed, structured data)","On-page content optimization","Link building and digital PR"],meta:{title:"SEO Services | Marketing Car",description:"Climb search rankings and drive organic traffic with our expert SEO services. We cover technical SEO, content optimization, and link building for sustainable growth.",ogTitle:"Boost Your Rankings with Expert SEO | Marketing Car",ogDescription:"Improve your visibility on Google and attract more qualified traffic. Our comprehensive SEO services are designed for long-term, sustainable results."},icon:"üöÄ"},{slug:"content-marketing",title:"Content Marketing",description:"Engage your audience with compelling stories and content.",subtitle:"Build authority and connect with your audience through valuable content.",longDescription:"<p>Content is king, and we help you wear the crown. We develop and execute content strategies that attract, engage, and convert your target audience. From blog posts to videos, we create content that builds authority and drives action.</p>",whatsIncluded:["Content strategy and editorial calendar planning","Blog writing and article creation","Video scripting and production","Ebooks, whitepapers, and lead magnets","Content distribution and promotion"],meta:{title:"Content Marketing Services | Marketing Car",description:"Engage your audience with compelling content from Marketing Car. We create strategic content, from blogs to videos, that builds authority and drives results.",ogTitle:"Strategic Content Marketing to Engage Your Audience | Marketing Car",ogDescription:"Attract, engage, and convert with content that matters. We develop and execute content strategies that build your brand and your bottom line."},icon:"‚úçÔ∏è"},{slug:"paid-advertising",title:"Paid Advertising",description:"Maximize ROI with targeted PPC campaigns.",subtitle:"Get immediate visibility and measurable results with targeted ads.",longDescription:"<p>Get immediate visibility and drive targeted traffic with our paid advertising services. We manage campaigns across platforms like Google Ads and social media, constantly optimizing for performance to ensure you get the most out of your ad spend.</p>",whatsIncluded:["Google Ads (Search, Display, Shopping)","Social Media Ads (Facebook, Instagram, LinkedIn)","A/B testing of ad copy and creatives","Landing page optimization","Performance tracking and ROI analysis"],meta:{title:"Paid Advertising & PPC Services | Marketing Car",description:"Maximize your ROI with targeted paid advertising campaigns from Marketing Car. We manage PPC on Google, Facebook, LinkedIn, and more for immediate results.",ogTitle:"Maximize ROI with Paid Advertising | Marketing Car",ogDescription:"Drive targeted traffic and get immediate results. Our paid advertising services cover Google Ads and social media, optimized for maximum performance."},icon:"üéØ"},{slug:"social-media-management",title:"Social Media",description:"Build a vibrant community around your brand.",subtitle:"Engage your audience and build a loyal following.",longDescription:"<p>We manage your social media presence to build brand awareness, foster engagement, and drive business results. We handle everything from content creation and scheduling to community management and performance reporting.</p>",whatsIncluded:["Platform-specific content strategy","Content creation and scheduling","Community engagement and moderation","Influencer outreach and collaboration","Analytics and performance reporting"],meta:{title:"Social Media Management Services | Marketing Car",description:"Build a vibrant community with our social media management services. We handle content creation, engagement, and strategy to grow your brand online.",ogTitle:"Engaging Social Media Management | Marketing Car",ogDescription:"Let's build your community. We manage your social media presence from strategy and content creation to engagement and reporting."},icon:"‚ù§Ô∏è"},{slug:"email-marketing",title:"Email Marketing",description:"Nurture leads and retain customers effectively.",subtitle:"The most direct line to your customers' inboxes.",longDescription:"<p>Email remains one of the most effective marketing channels. We design and manage email campaigns that nurture leads, onboard new customers, and drive repeat business. From newsletters to complex automation, we've got you covered.</p>",whatsIncluded:["Email list growth and segmentation","Campaign design and copywriting","Marketing automation and drip campaigns","A/B testing and optimization","Performance analysis and reporting"],meta:{title:"Email Marketing Services | Marketing Car",description:"Nurture leads and retain customers with effective email marketing from Marketing Car. We design campaigns, set up automation, and analyze performance.",ogTitle:"Effective Email Marketing & Automation | Marketing Car",ogDescription:"From newsletters to complex automation, we create email campaigns that nurture leads, drive sales, and build customer loyalty."},icon:"‚úâÔ∏è"},{slug:"web-design-development",title:"Web Design & Development",description:"Create stunning, high-performance websites.",subtitle:"Your digital storefront, designed for performance and conversions.",longDescription:"<p>Your website is your digital storefront. We design and build beautiful, responsive, and user-friendly websites that are optimized for performance and conversions. We ensure your site not only looks great but also works flawlessly on all devices.</p>",whatsIncluded:["Custom web design (UI/UX)","Responsive web development","E-commerce solutions","Content Management System (CMS) integration","Website maintenance and support"],meta:{title:"Web Design & Development Services | Marketing Car",description:"Create a stunning, high-performance website with Marketing Car. Our services include custom UI/UX design, responsive development, and e-commerce solutions.",ogTitle:"Custom Web Design & Development | Marketing Car",ogDescription:"Your website is your most important marketing tool. We build beautiful, user-friendly sites that are optimized for performance and conversions."},icon:"üíª"}],st=[{slug:"small-business-owners",icon:h.jsx(g,{size:48,className:"text-white"}),title:"Small Business Owners",description:"Your passion is your business. Our passion is marketing it. We help you attract more local customers and stand out in a crowded market.",subtitle:"Your passion is your business. Our passion is marketing it.",longDescription:"\n      <h3>Your Dedicated Marketing Partner</h3>\n      <p>As a small business owner, you wear many hats. Marketing shouldn't be a burden. We act as your dedicated marketing partner, creating strategies that drive local traffic, increase brand awareness, and ultimately, grow your bottom line so you can focus on what you do best: serving your community.</p>\n    ",howWeHelp:["Local SEO & Google Business Profile Optimization","Hyper-targeted Social Media Advertising","Community Engagement Campaigns","Affordable, High-Performance Website Design","Reputation Management & Review Generation"],meta:{title:"Marketing for Small Business Owners | Marketing Car",description:"We help small business owners attract more local customers and stand out in a crowded market with tailored marketing solutions.",ogTitle:"Marketing Solutions for Small Business Owners",ogDescription:"Your passion is your business. Our passion is marketing it. Let us help you grow with effective, affordable marketing strategies."}},{slug:"therapists-counselors",icon:h.jsx(m,{size:48,className:"text-white"}),title:"Therapists & Counselors",description:"Focus on your clients while we handle your digital presence. We create sensitive and effective marketing to connect you with those who need your help.",subtitle:"Ethical, effective marketing for mental health professionals.",longDescription:"\n      <h3>Marketing with Empathy and Ethics</h3>\n      <p>Your work is incredibly important. Our marketing approach for therapists is built on a foundation of ethics, empathy, and confidentiality. We help you reach potential clients who are actively seeking support, building trust and authority through professional, discreet, and effective digital strategies so you can focus on providing care.</p>\n    ",howWeHelp:["HIPAA-compliant Marketing Strategies","Psychology Today & Directory Optimization","Content Creation for Building Trust","Targeted ads for specific specializations","Professional Website Design with Secure Contact Forms"],meta:{title:"Marketing for Therapists & Counselors | Marketing Car",description:"Grow your private practice with our ethical and effective marketing strategies for therapists, counselors, and mental health professionals.",ogTitle:"Attract More Ideal Clients to Your Therapy Practice",ogDescription:"Focus on your clients, we'll handle the marketing. We help therapists connect with those who need their help through sensitive, professional marketing."}},{slug:"trades-contractors",icon:h.jsx(y,{size:48,className:"text-white"}),title:"Trades & Contractors",description:"We wire up your marketing so you can focus on the job. We ensure your services are found by the right customers at the right time.",subtitle:"Get found by local customers when they need you most.",longDescription:'\n      <h3>Turning Searches into Service Calls</h3>\n      <p>When a pipe bursts or the power goes out, customers need to find you‚Äîfast. We specialize in "need-based" marketing for the trades, ensuring your business appears at the top of search results when local customers need you most. We build a reliable system that turns emergency searches into booked jobs, so you can focus on your craft.</p>\n    ',howWeHelp:['Top-Ranking "Near Me" SEO Strategies',"24/7 Google Ads Management for Emergency Calls","Service Area-Specific Landing Pages","Building Trust with Online Reviews & Testimonials","Simple, Mobile-First Website for Easy Contact"],meta:{title:"Marketing for Trades & Contractors | Marketing Car",description:"Get more leads for your trade business. We specialize in local SEO and ads for electricians, plumbers, HVAC, and other contractors.",ogTitle:"Book More Jobs with Marketing for the Trades",ogDescription:"We help contractors get found by local customers who need their services now. Let's get your phone ringing."}},{slug:"veterinarians",icon:h.jsx(v,{size:48,className:"text-white"}),title:"Veterinarians",description:"Care for pets, and we‚Äôll fetch new clients for you. We help clinics connect with pet owners looking for compassionate, expert care.",subtitle:"Connecting your clinic with compassionate pet owners.",longDescription:"\n      <h3>Marketing for a Compassionate Practice</h3>\n      <p>Your veterinary clinic is a place of healing and compassion. Our marketing reflects that. We help you connect with the pet-loving community in your area, highlighting your unique services, compassionate staff, and state-of-the-art facilities to attract new clients and build lasting relationships with pet owners.</p>\n    ",howWeHelp:["Community-building Social Media Management","Educational Content for Pet Owners","Appointment-driving Digital Ad Campaigns","Online Reputation Management","Website Design Featuring Staff Bios and Services"],meta:{title:"Veterinary Marketing Services | Marketing Car",description:"Attract more clients to your veterinary clinic with our specialized marketing services. We help you connect with local pet owners.",ogTitle:"Grow Your Veterinary Practice with Expert Marketing",ogDescription:"You care for pets, we'll fetch the clients. Our marketing services for veterinarians help you build a thriving practice."}},{slug:"financial-professionals",icon:h.jsx(b,{size:48,className:"text-white"}),title:"Financial Professionals",description:"We crunch the marketing numbers so you can focus on the real ones. We elevate your professional standing and bring in high-quality clients.",subtitle:"Building trust and authority for financial experts.",longDescription:"\n      <h3>Marketing Built on Trust</h3>\n      <p>Trust is the currency of the financial world. We build marketing strategies that establish your authority and credibility. By targeting specific industries or client types, we help you attract high-value clients looking for your specific expertise, from tax preparation to financial planning and wealth management.</p>\n    ",howWeHelp:["LinkedIn Marketing & Professional Networking","Authoritative Content (Articles, Guides, Webinars)","Targeted Advertising for B2B or High-Net-Worth Individuals","Email Marketing for Nurturing Leads","Building a Professional and Trustworthy Online Presence"],meta:{title:"Marketing for Accountants & Financial Professionals | Marketing Car",description:"Attract high-value clients with our marketing services for accountants, financial advisors, and other financial professionals.",ogTitle:"Marketing That Builds Trust for Financial Experts",ogDescription:"We help financial professionals elevate their standing and attract high-quality clients through sophisticated, authority-building marketing."}},{slug:"bilingual-businesses",icon:h.jsx(w,{size:48,className:"text-white"}),title:"Bilingual Businesses",description:"Conectamos con tu comunidad, en su idioma. We develop culturally relevant marketing to reach your Spanish-speaking audience effectively.",subtitle:"Connecting with your community, in their language.",longDescription:"\n      <h3>Marketing That Speaks Volumes</h3>\n      <p>Marketing is more than just language‚Äîit's about cultural connection. We create authentic, bilingual marketing campaigns that resonate deeply with the Hispanic community. From language to imagery to cultural nuances, we ensure your message is not just understood, but felt, building strong relationships with your Spanish-speaking audience.</p>\n    ",howWeHelp:["Bilingual SEO and SEM Campaigns","Culturally-Aware Social Media Content","Spanish-Language Ad Creatives and Landing Pages","Community Engagement with Local Hispanic Organizations","WhatsApp and SMS Marketing Strategies"],meta:{title:"Bilingual & Spanish Marketing Services | Marketing Car",description:"Reach the Spanish-speaking community with our culturally relevant bilingual marketing services. Conectamos con tu comunidad.",ogTitle:"Effective Bilingual Marketing to Reach Your Audience",ogDescription:"We create authentic marketing campaigns that connect with your Spanish-speaking customers on a cultural level. Hablemos."}},{slug:"farmers-markets",icon:h.jsx(_,{size:48,className:"text-white"}),title:"Farmers Markets",description:"From local roots to loyal customers, we help you grow. We attract more visitors to your market, boosting sales for all your vendors.",subtitle:"Cultivating community and growing your market.",longDescription:"\n      <h3>Growing Your Market, Rain or Shine</h3>\n      <p>A farmers market is a vibrant community hub. Our marketing celebrates that. We create buzz and excitement, highlighting your unique vendors, seasonal produce, and special events to draw in crowds of enthusiastic shoppers, turning casual visitors into loyal weekly customers and boosting sales for everyone involved.</p>\n    ",howWeHelp:["Event Promotion on Social Media and Local Calendars","Vendor Spotlights to Showcase Your Community","Email Newsletters with Weekly Highlights","Collaborations with Local Food Bloggers and Influencers","Geotargeted Ads to Attract Nearby Shoppers"],meta:{title:"Marketing for Farmers Markets | Marketing Car",description:"Attract more visitors and boost vendor sales with our marketing services for farmers markets. We help you cultivate a thriving community.",ogTitle:"Grow Your Farmers Market with Targeted Marketing",ogDescription:"From local roots to loyal customers, we help you attract more visitors to your market and support your community of vendors."}},{slug:"licensed-professionals",icon:h.jsx(k,{size:48,className:"text-white"}),title:"Licensed Professionals",description:"You have the expertise. We have the marketing engine. We tailor solutions that elevate your professional standing and bring in high-quality clients.",subtitle:"Sophisticated marketing for specialized experts.",longDescription:"\n      <h3>Showcasing Your Expertise</h3>\n      <p>Whether you're an architect, engineer, consultant, or another licensed expert, your reputation is everything. We develop sophisticated marketing strategies that showcase your expertise, build professional credibility, and attract the high-caliber clients and projects you deserve. We help translate your professional excellence into marketing success.</p>\n    ",howWeHelp:["Case Study and Portfolio Development","Building Authority through Thought Leadership Content","Targeted B2B Lead Generation","Professional Networking on Platforms like LinkedIn","PR and Media Outreach to Industry Publications"],meta:{title:"Marketing for Licensed Professionals | Marketing Car",description:"We provide sophisticated marketing solutions for architects, engineers, consultants, and other licensed professionals to attract high-caliber clients.",ogTitle:"Expert Marketing for Licensed Professionals",ogDescription:"You're an expert in your field. We're experts in marketing it. Let us help you build your reputation and attract the clients you deserve."}}],it=({to:e,children:t,isMobile:r,closeMenu:s})=>{const i=x().pathname===e;return h.jsxs(T,{to:e,className:`text-lg font-medium transition-colors duration-300 relative ${r?"block px-4 py-3 text-foreground":"text-foreground hover:text-primary"} ${i?"text-primary":""}`,onClick:s,children:[t,!r&&h.jsx("span",{className:"absolute left-0 -bottom-1 w-full h-0.5 bg-primary transform transition-transform duration-300 "+(i?"scale-x-100":"scale-x-0")})]})},nt=({title:e,children:t,isMobile:r,closeMenu:s})=>{const[i,n]=f.useState(!1);return h.jsxs("div",{className:"relative",onMouseEnter:()=>!r&&n(!0),onMouseLeave:()=>!r&&n(!1),children:[h.jsxs("button",{onClick:()=>r&&n(!i),className:"flex items-center text-lg font-medium transition-colors duration-300 "+(r?"w-full px-4 py-3 text-left text-foreground":"text-foreground hover:text-primary"),children:[e,h.jsx(E,{className:"ml-1 h-5 w-5 transition-transform duration-200 "+(i?"rotate-180":"")})]}),h.jsx(K,{children:i&&h.jsx(V.div,{initial:{opacity:0,y:r?0:10},animate:{opacity:1,y:0},exit:{opacity:0,y:r?0:10},transition:{duration:.2},className:r?"pl-4":"absolute z-20 mt-2 w-56 rounded-md shadow-lg bg-card border border-border",children:h.jsx("div",{className:r?"py-1":"py-2",children:d.Children.map(t,e=>d.cloneElement(e,{isMobile:r,closeMenu:s}))})})})]})},ot=({to:e,children:t,isMobile:r,closeMenu:s})=>h.jsx(T,{to:e,onClick:s,className:({isActive:e})=>`block transition-colors duration-200 ${r?"px-4 py-2 text-sm":"px-4 py-2 text-base"} ${e?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-primary/5"}`,children:t}),at=d.memo(()=>{const[e,t]=f.useState(!1),[r,s]=f.useState(!1),i=f.useCallback(()=>t(!1),[]),n=f.useMemo(()=>({services:rt.map(e=>({slug:e.slug,title:e.title})),professionals:st.map(e=>({slug:e.slug,title:e.title}))}),[]);x(),f.useEffect(()=>{const e=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const o=f.useMemo(()=>(e=!1)=>h.jsxs(h.Fragment,{children:[h.jsx(it,{to:"/",isMobile:e,closeMenu:i,children:"Home"}),h.jsxs(nt,{title:"About",isMobile:e,closeMenu:i,children:[h.jsx(ot,{to:"/about",isMobile:e,closeMenu:i,children:"About Us"}),h.jsx(ot,{to:"/about/the-marketing-car",isMobile:e,closeMenu:i,children:"The Marketing Car"}),h.jsx(ot,{to:"/about/webinars",isMobile:e,closeMenu:i,children:"Webinars"}),h.jsx(ot,{to:"/about/case-studies",isMobile:e,closeMenu:i,children:"Case Studies"}),h.jsx(ot,{to:"/about/blog",isMobile:e,closeMenu:i,children:"Blog"})]}),h.jsxs(nt,{title:"Services",isMobile:e,closeMenu:i,children:[h.jsx(ot,{to:"/services",isMobile:e,closeMenu:i,children:"All Services"}),n.services.map(t=>h.jsx(ot,{to:`/services/${t.slug}`,isMobile:e,closeMenu:i,children:t.title},t.slug))]}),h.jsxs(nt,{title:"Who We Help",isMobile:e,closeMenu:i,children:[h.jsx(ot,{to:"/who-we-help",isMobile:e,closeMenu:i,children:"All Specialties"}),n.professionals.map(t=>h.jsx(ot,{to:`/who-we-help/${t.slug}`,isMobile:e,closeMenu:i,children:t.title},t.slug))]}),h.jsx(it,{to:"/contact",isMobile:e,closeMenu:i,children:"Contact"})]}),[n,i]);return h.jsxs("header",{className:"sticky top-0 z-50 transition-all duration-300 "+(r||e?"bg-background/95 backdrop-blur-sm shadow-md":"bg-transparent"),children:[h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex items-center justify-between h-24",children:[h.jsx(S,{to:"/",className:"flex-shrink-0",onClick:i,children:h.jsx("img",{className:"h-14 w-auto",src:"https://horizons-cdn.hostinger.com/4d84324a-cf58-49bf-a9fe-718fd0642a7d/fulllogo-IDmgO.png",alt:"Marketing Car Logo"})}),h.jsx("nav",{className:"hidden lg:flex items-center space-x-8",children:o()}),h.jsx("div",{className:"hidden lg:flex items-center",children:h.jsx(tt,{asChild:!0,className:"bg-gradient-to-r from-primary to-accent hover:opacity-90 text-primary-foreground font-semibold shadow-lg transform hover:scale-105 transition-transform duration-300",children:h.jsx(S,{to:"/book-now",children:"Book Now"})})}),h.jsx("div",{className:"lg:hidden",children:h.jsx("button",{onClick:()=>t(!e),className:"inline-flex items-center justify-center p-2 rounded-md text-foreground hover:text-primary focus:outline-none",children:e?h.jsx(p,{className:"h-8 w-8"}):h.jsx(j,{className:"h-8 w-8"})})})]})}),h.jsx(K,{children:e&&h.jsxs(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden bg-background/95 backdrop-blur-sm",children:[h.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:o(!0)}),h.jsx("div",{className:"px-4 py-4",children:h.jsx(tt,{asChild:!0,className:"w-full bg-gradient-to-r from-primary to-accent hover:opacity-90 text-primary-foreground font-semibold shadow-lg",children:h.jsx(S,{to:"/book-now",onClick:i,children:"Book Now"})})})]})})]})}),lt=()=>{const e=f.useRef(null),t=f.useRef(!1);return f.useEffect(()=>{if(t.current||!e.current)return;const r="hubspot-form-script";let s=document.getElementById(r);const i=()=>{window.hbspt&&e.current&&(window.hbspt.forms.create({region:"na1",portalId:"47574927",formId:"37006731-b953-4e1d-ab82-fd647161af72",target:`#${e.current.id}`}),t.current=!0)};return s?i():(s=document.createElement("script"),s.id=r,s.src="https://js.hsforms.net/forms/embed/v2.js",s.defer=!0,document.body.appendChild(s),s.onload=i),()=>{e.current&&(e.current.innerHTML=""),t.current=!1}},[]),h.jsx("div",{id:"hubspot-newsletter-form-container",ref:e})},ct=()=>{const e=[{href:"https://facebook.com/themarketingcar",label:"Follow us on Facebook",icon:h.jsx(C,{size:24})},{href:"https://www.linkedin.com/company/marketingcar/",label:"Connect with us on LinkedIn",icon:h.jsx(P,{size:24})}];return h.jsx("footer",{className:"py-10 px-4 sm:px-8 text-center text-muted-foreground bg-background border-t border-border",children:h.jsx("div",{className:"container mx-auto",children:h.jsxs("div",{className:"grid gap-8 items-start md:grid-cols-3",children:[h.jsxs("div",{className:"order-3 md:order-1 text-center md:text-left",children:[h.jsx("div",{className:"flex justify-center md:justify-start items-center space-x-2 mb-4",children:h.jsx("img",{src:"https://horizons-cdn.hostinger.com/4d84324a-cf58-49bf-a9fe-718fd0642a7d/fulllogo-JQ4WH.png",alt:"Marketing Car Main Logo",className:"h-10 w-auto"})}),h.jsxs("p",{className:"font-body",children:["¬© ",(new Date).getFullYear()," MarketingCar‚Ñ¢. All Rights Reserved."]}),h.jsx("p",{className:"font-body",children:"Driving Your Success, One Mile at a Time."}),h.jsx("div",{className:"mt-4 flex justify-center md:justify-start space-x-4",children:e.map(e=>h.jsx("a",{href:e.href,className:"hover:text-primary transition-colors","aria-label":e.label,target:"_blank",rel:"noopener noreferrer",children:e.icon},e.label))}),h.jsx("p",{className:"mt-4 font-body",children:h.jsx(S,{to:"/book-now",className:"hover:text-primary transition-colors underline font-semibold",children:"Book a Free Consultation"})})]}),h.jsx("div",{className:"order-1 md:order-3",children:h.jsx(lt,{})})]})})})},ut=()=>{const{pathname:e}=x();return f.useEffect(()=>{window.scrollTo(0,0)},[e]),null},dt=f.lazy(()=>Y(()=>import("./HomePage-95d825a5.js"),["assets/HomePage-95d825a5.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/OptimizedImage-23d73281.js","assets/card-39e202d1.js","assets/OurDriveSection-9e4e0063.js","assets/SEOHelmet-d38a4acf.js","assets/radix-ui-b14e77f2.js"])),ht=f.lazy(()=>Y(()=>import("./AboutPage-0092b8e0.js"),["assets/AboutPage-0092b8e0.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/OurDriveSection-9e4e0063.js","assets/card-39e202d1.js","assets/radix-ui-b14e77f2.js"])),pt=f.lazy(()=>Y(()=>import("./WebinarsPage-49ae6d30.js"),["assets/WebinarsPage-49ae6d30.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/card-39e202d1.js","assets/SEOHelmet-d38a4acf.js","assets/radix-ui-b14e77f2.js"])),ft=f.lazy(()=>Y(()=>import("./ServicesPage-f114fd01.js"),["assets/ServicesPage-f114fd01.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/card-39e202d1.js","assets/radix-ui-b14e77f2.js"])),gt=f.lazy(()=>Y(()=>import("./ServiceDetailPage-0a343a45.js"),["assets/ServiceDetailPage-0a343a45.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/card-39e202d1.js","assets/radix-ui-b14e77f2.js"])),mt=f.lazy(()=>Y(()=>import("./CaseStudiesPage-0e0ebaf1.js"),["assets/CaseStudiesPage-0e0ebaf1.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/card-39e202d1.js","assets/caseStudiesData-d9026983.js","assets/radix-ui-b14e77f2.js"])),yt=f.lazy(()=>Y(()=>import("./CaseStudyDetailPage-370f6ddd.js"),["assets/CaseStudyDetailPage-370f6ddd.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/caseStudiesData-d9026983.js","assets/card-39e202d1.js","assets/radix-ui-b14e77f2.js"])),vt=f.lazy(()=>Y(()=>import("./WhoWeHelpPage-5959fb46.js"),["assets/WhoWeHelpPage-5959fb46.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/card-39e202d1.js","assets/radix-ui-b14e77f2.js"])),bt=f.lazy(()=>Y(()=>import("./WhoWeHelpDetailPage-e823af61.js"),["assets/WhoWeHelpDetailPage-e823af61.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/card-39e202d1.js","assets/radix-ui-b14e77f2.js"])),wt=f.lazy(()=>Y(()=>import("./BookNowPage-fa748ff4.js"),["assets/BookNowPage-fa748ff4.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/HubSpotEmbed-65f3af23.js","assets/radix-ui-b14e77f2.js"])),_t=f.lazy(()=>Y(()=>import("./BlogPage-a820bf58.js"),["assets/BlogPage-a820bf58.js","assets/react-vendor-cd5379b4.js","assets/prerenderReady-4eab26f4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/card-39e202d1.js","assets/OptimizedImage-23d73281.js","assets/radix-ui-b14e77f2.js"])),kt=f.lazy(()=>Y(()=>import("./BlogPostPage-b71bd16e.js"),["assets/BlogPostPage-b71bd16e.js","assets/react-vendor-cd5379b4.js","assets/prerenderReady-4eab26f4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/radix-ui-b14e77f2.js"])),xt=f.lazy(()=>Y(()=>import("./ThankYouPage-7d1e0eba.js"),["assets/ThankYouPage-7d1e0eba.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/radix-ui-b14e77f2.js"])),St=f.lazy(()=>Y(()=>import("./LpSpinningWheelsPage-9d7637f8.js"),["assets/LpSpinningWheelsPage-9d7637f8.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/HubSpotEmbed-65f3af23.js","assets/radix-ui-b14e77f2.js"])),jt=f.lazy(()=>Y(()=>import("./LpSpinningWheelsTherapistsPage-44950677.js"),["assets/LpSpinningWheelsTherapistsPage-44950677.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/HubSpotEmbed-65f3af23.js","assets/radix-ui-b14e77f2.js"])),Tt=f.lazy(()=>Y(()=>import("./LpSpinningWheelsTradesPage-827d568a.js"),["assets/LpSpinningWheelsTradesPage-827d568a.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/HubSpotEmbed-65f3af23.js","assets/radix-ui-b14e77f2.js"])),Et=f.lazy(()=>Y(()=>import("./ContactPage-85841286.js"),["assets/ContactPage-85841286.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/radix-ui-b14e77f2.js"])),Ct=f.lazy(()=>Y(()=>import("./TheMarketingCarPage-7af1c733.js"),["assets/TheMarketingCarPage-7af1c733.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js"])),Pt=f.lazy(()=>Y(()=>import("./LpFreeMarketingTips-71251545.js"),["assets/LpFreeMarketingTips-71251545.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/radix-ui-b14e77f2.js"])),Ot=f.lazy(()=>Y(()=>import("./LpWebinar1-6480a68d.js"),["assets/LpWebinar1-6480a68d.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/radix-ui-b14e77f2.js"])),At=f.lazy(()=>Y(()=>import("./LpWebinar2-eb7a7a3b.js"),["assets/LpWebinar2-eb7a7a3b.js","assets/react-vendor-cd5379b4.js","assets/SchemaMarkup-6fea60fb.js","assets/framer-motion-c3a037bd.js","assets/radix-ui-b14e77f2.js"])),It=f.lazy(()=>Y(()=>import("./NotFound-016b2c82.js"),["assets/NotFound-016b2c82.js","assets/react-vendor-cd5379b4.js"])),$t=()=>h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),Rt=()=>{const e=x();return f.useEffect(()=>{"undefined"!=typeof window&&O.initialize({gtmId:"GTM-MT4W7K78"})},[]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground overflow-x-hidden",children:[h.jsx(at,{}),h.jsx(ut,{}),h.jsx("main",{className:"flex-grow",children:h.jsx(f.Suspense,{fallback:h.jsx($t,{}),children:h.jsx(K,{mode:"wait",children:h.jsxs(A,{location:e,children:[h.jsx(I,{path:"/",element:h.jsx(dt,{})}),h.jsx(I,{path:"/about",element:h.jsx(ht,{})}),h.jsx(I,{path:"/about/the-marketing-car",element:h.jsx(Ct,{})}),h.jsx(I,{path:"/about/webinars",element:h.jsx(pt,{})}),h.jsx(I,{path:"/about/case-studies",element:h.jsx(mt,{})}),h.jsx(I,{path:"/about/case-studies/:slug",element:h.jsx(yt,{})}),h.jsx(I,{path:"/about/blog",element:h.jsx(_t,{})}),h.jsx(I,{path:"/about/blog/:slug",element:h.jsx(kt,{})}),h.jsx(I,{path:"/blog",element:h.jsx($,{to:"/about/blog",replace:!0})}),h.jsx(I,{path:"/services",element:h.jsx(ft,{})}),h.jsx(I,{path:"/services/:slug",element:h.jsx(gt,{})}),h.jsx(I,{path:"/who-we-help",element:h.jsx(vt,{})}),h.jsx(I,{path:"/who-we-help/:slug",element:h.jsx(bt,{})}),h.jsx(I,{path:"/book-now",element:h.jsx(wt,{})}),h.jsx(I,{path:"/thank-you",element:h.jsx(xt,{})}),h.jsx(I,{path:"/lp-spinning-wheels",element:h.jsx(St,{})}),h.jsx(I,{path:"/lp-spinning-wheels-therapists",element:h.jsx(jt,{})}),h.jsx(I,{path:"/lp-spinning-wheels-trades",element:h.jsx(Tt,{})}),h.jsx(I,{path:"/contact",element:h.jsx(Et,{})}),h.jsx(I,{path:"/lp-free-marketing-tips",element:h.jsx(Pt,{})}),h.jsx(I,{path:"/lp-webinar-1",element:h.jsx(Ot,{})}),h.jsx(I,{path:"/lp-webinar-2",element:h.jsx(At,{})}),h.jsx(I,{path:"*",element:h.jsx(It,{})})]},e.pathname)})})}),h.jsx(ct,{})]}),h.jsx(Ze,{})]})};class Mt extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Nt extends Mt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dt extends Mt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Lt extends Mt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Wt,Bt;(Bt=Wt||(Wt={})).Any="any",Bt.ApNortheast1="ap-northeast-1",Bt.ApNortheast2="ap-northeast-2",Bt.ApSouth1="ap-south-1",Bt.ApSoutheast1="ap-southeast-1",Bt.ApSoutheast2="ap-southeast-2",Bt.CaCentral1="ca-central-1",Bt.EuCentral1="eu-central-1",Bt.EuWest1="eu-west-1",Bt.EuWest2="eu-west-2",Bt.EuWest3="eu-west-3",Bt.SaEast1="sa-east-1",Bt.UsEast1="us-east-1",Bt.UsWest1="us-west-1",Bt.UsWest2="us-west-2";var Ut=globalThis&&globalThis.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(i,n){function o(e){try{l(s.next(e))}catch(t){n(t)}}function a(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((s=s.apply(e,t||[])).next())})};class zt{constructor(e,{headers:t={},customFetch:r,region:s=Wt.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Y(()=>Promise.resolve().then(()=>tr),void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Ut(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:n}=t;let o={},{region:a}=t;a||(a=this.region);const l=new URL(`${this.url}/${e}`);let c;a&&"any"!==a&&(o["x-region"]=a,l.searchParams.set("forceFunctionRegion",a)),n&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&("undefined"!=typeof Blob&&n instanceof Blob||n instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=n):"string"==typeof n?(o["Content-Type"]="text/plain",c=n):"undefined"!=typeof FormData&&n instanceof FormData?c=n:(o["Content-Type"]="application/json",c=JSON.stringify(n)));const u=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(e=>{throw new Nt(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new Dt(u);if(!u.ok)throw new Lt(u);let h,p=(null!==(r=u.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===p?yield u.json():"application/octet-stream"===p?yield u.blob():"text/event-stream"===p?u:"multipart/form-data"===p?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(s){return{data:null,error:s,response:s instanceof Lt||s instanceof Dt?s.context:void 0}}})}}var qt={},Ft={},Gt={},Ht={},Kt={},Vt={},Jt=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const Yt=Jt.fetch,Xt=Jt.fetch.bind(Jt),Qt=Jt.Headers,Zt=Jt.Request,er=Jt.Response,tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qt,Request:Zt,Response:er,default:Xt,fetch:Yt},Symbol.toStringTag,{value:"Module"})),rr=R(tr);var sr={};Object.defineProperty(sr,"__esModule",{value:!0});let ir=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};sr.default=ir;var nr=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vt,"__esModule",{value:!0});const or=nr(rr),ar=nr(sr);Vt.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=or.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(e=>u(this,null,function*(){var t,r,s;let i=null,n=null,o=null,a=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=yield e.text();""===t||(n="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const s=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");s&&c&&c.length>1&&(o=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(n)&&(n.length>1?(i={code:"PGRST116",details:`Results contain ${n.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},n=null,o=null,a=406,l="Not Acceptable"):n=1===n.length?n[0]:null)}else{const t=yield e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(n=[],i=null,a=200,l="OK")}catch(c){404===e.status&&""===t?(a=204,l="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(s=null==i?void 0:i.details)||void 0===s?void 0:s.includes("0 rows"))&&(i=null,a=200,l="OK"),i&&this.shouldThrowOnError)throw new ar.default(i)}return{error:i,data:n,count:o,status:a,statusText:l}}));return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,s;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(s=null==e?void 0:e.code)&&void 0!==s?s:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}};var lr=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0});const cr=lr(Vt);let ur=class extends cr.default{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const n=i?`${i}.order`:"order",o=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const i=void 0===s?"offset":`${s}.offset`,n=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(n,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:n="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${n}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Kt.default=ur;var dr=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ht,"__esModule",{value:!0});const hr=dr(Kt);let pr=class extends hr.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let i="";"plain"===s?i="pl":"phrase"===s?i="ph":"websearch"===s&&(i="w");const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${n}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Ht.default=pr;var fr=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gt,"__esModule",{value:!0});const gr=fr(Ht);Gt.default=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=t,this.schema=r,this.fetch=s}select(e,{head:t=!1,count:r}={}){const s=t?"HEAD":"GET";let i=!1;const n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",n),r&&(this.headers.Prefer=`count=${r}`),new gr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new gr.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const n=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),i||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new gr.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new gr.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new gr.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var mr={},yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.version=void 0,yr.version="0.0.0-automated",Object.defineProperty(mr,"__esModule",{value:!0}),mr.DEFAULT_HEADERS=void 0;const vr=yr;mr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${vr.version}`};var br=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ft,"__esModule",{value:!0});const wr=br(Gt),_r=br(Ht),kr=mr;Ft.default=class e{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},kr.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new wr.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:i}={}){let n;const o=new URL(`${this.url}/rpc/${e}`);let a;r||s?(n=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{o.searchParams.append(e,t)})):(n="POST",a=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new _r.default({method:n,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var xr=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qt,"__esModule",{value:!0}),qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const Sr=xr(Ft);qt.PostgrestClient=Sr.default;const jr=xr(Gt);qt.PostgrestQueryBuilder=jr.default;const Tr=xr(Ht);qt.PostgrestFilterBuilder=Tr.default;const Er=xr(Kt);qt.PostgrestTransformBuilder=Er.default;const Cr=xr(Vt);qt.PostgrestBuilder=Cr.default;const Pr=xr(sr);qt.PostgrestError=Pr.default;var Or=qt.default={PostgrestClient:Sr.default,PostgrestQueryBuilder:jr.default,PostgrestFilterBuilder:Tr.default,PostgrestTransformBuilder:Er.default,PostgrestBuilder:Cr.default,PostgrestError:Pr.default};const{PostgrestClient:Ar,PostgrestQueryBuilder:Ir,PostgrestFilterBuilder:$r,PostgrestTransformBuilder:Rr,PostgrestBuilder:Mr,PostgrestError:Nr}=Or;class Dr{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${e} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const Lr=1e4;var Wr,Br,Ur,zr,qr,Fr,Gr,Hr,Kr,Vr,Jr;(Br=Wr||(Wr={}))[Br.connecting=0]="connecting",Br[Br.open=1]="open",Br[Br.closing=2]="closing",Br[Br.closed=3]="closed",(zr=Ur||(Ur={})).closed="closed",zr.errored="errored",zr.joined="joined",zr.joining="joining",zr.leaving="leaving",(Fr=qr||(qr={})).close="phx_close",Fr.error="phx_error",Fr.join="phx_join",Fr.reply="phx_reply",Fr.leave="phx_leave",Fr.access_token="access_token",(Gr||(Gr={})).websocket="websocket",(Kr=Hr||(Hr={})).Connecting="connecting",Kr.Open="open",Kr.Closing="closing",Kr.Closed="closed";class Yr{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),i=t.getUint8(2);let n=this.HEADER_LENGTH+2;const o=r.decode(e.slice(n,n+s));n+=s;const a=r.decode(e.slice(n,n+i));n+=i;return{ref:null,topic:o,event:a,payload:JSON.parse(r.decode(e.slice(n,e.byteLength)))}}}class Xr{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(Jr=Vr||(Vr={})).abstime="abstime",Jr.bool="bool",Jr.date="date",Jr.daterange="daterange",Jr.float4="float4",Jr.float8="float8",Jr.int2="int2",Jr.int4="int4",Jr.int4range="int4range",Jr.int8="int8",Jr.int8range="int8range",Jr.json="json",Jr.jsonb="jsonb",Jr.money="money",Jr.numeric="numeric",Jr.oid="oid",Jr.reltime="reltime",Jr.text="text",Jr.time="time",Jr.timestamp="timestamp",Jr.timestamptz="timestamptz",Jr.timetz="timetz",Jr.tsrange="tsrange",Jr.tstzrange="tstzrange";const Qr=(e,t,r={})=>{var s;const i=null!==(s=r.skipTypes)&&void 0!==s?s:[];return Object.keys(t).reduce((r,s)=>(r[s]=Zr(s,e,t,i),r),{})},Zr=(e,t,r,s)=>{const i=t.find(t=>t.name===e),n=null==i?void 0:i.type,o=r[e];return n&&!s.includes(n)?es(n,o):ts(o)},es=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return ns(t,r)}switch(e){case Vr.bool:return rs(t);case Vr.float4:case Vr.float8:case Vr.int2:case Vr.int4:case Vr.int8:case Vr.numeric:case Vr.oid:return ss(t);case Vr.json:case Vr.jsonb:return is(t);case Vr.timestamp:return os(t);case Vr.abstime:case Vr.date:case Vr.daterange:case Vr.int4range:case Vr.int8range:case Vr.money:case Vr.reltime:case Vr.text:case Vr.time:case Vr.timestamptz:case Vr.timetz:case Vr.tsrange:case Vr.tstzrange:default:return ts(t)}},ts=e=>e,rs=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ss=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},is=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},ns=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,s=e[r];if("{"===e[0]&&"}"===s){let s;const n=e.slice(1,r);try{s=JSON.parse("["+n+"]")}catch(i){s=n?n.split(","):[]}return s.map(e=>es(t,e))}return e},os=e=>"string"==typeof e?e.replace(" ","T"):e,as=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ls{constructor(e,t,r={},s=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cs,us,ds,hs,ps,fs,gs,ms;(us=cs||(cs={})).SYNC="sync",us.JOIN="join",us.LEAVE="leave";class ys{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ys.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=ys.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=ys.syncDiff(this.state,e,t,r),s())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const i=this.cloneDeep(e),n=this.transformState(t),o={},a={};return this.map(i,(e,t)=>{n[e]||(a[e]=t)}),this.map(n,(e,t)=>{const r=i[e];if(r){const s=t.map(e=>e.presence_ref),i=r.map(e=>e.presence_ref),n=t.filter(e=>i.indexOf(e.presence_ref)<0),l=r.filter(e=>s.indexOf(e.presence_ref)<0);n.length>0&&(o[e]=n),l.length>0&&(a[e]=l)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:a},r,s)}static syncDiff(e,t,r,s){const{joins:i,leaves:n}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(t,s)=>{var i;const n=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(s),n.length>0){const r=e[t].map(e=>e.presence_ref),s=n.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...s)}r(t,n,s)}),this.map(n,(t,r)=>{let i=e[t];if(!i)return;const n=r.map(e=>e.presence_ref);i=i.filter(e=>n.indexOf(e.presence_ref)<0),e[t]=i,s(t,i,r),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return t[r]="metas"in s?s.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(hs=ds||(ds={})).ALL="*",hs.INSERT="INSERT",hs.UPDATE="UPDATE",hs.DELETE="DELETE",(fs=ps||(ps={})).BROADCAST="broadcast",fs.PRESENCE="presence",fs.POSTGRES_CHANGES="postgres_changes",fs.SYSTEM="system",(ms=gs||(gs={})).SUBSCRIBED="SUBSCRIBED",ms.TIMED_OUT="TIMED_OUT",ms.CLOSED="CLOSED",ms.CHANNEL_ERROR="CHANNEL_ERROR";class vs{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ls(this,qr.join,this.params,this.timeout),this.rejoinTimer=new Xr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ur.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qr.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ys(this),this.broadcastEndpointURL=as(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ur.closed){const{config:{broadcast:i,presence:n,private:o}}=this.params,a=null!==(s=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==s?s:[],l=!!this.bindings[ps.PRESENCE]&&this.bindings[ps.PRESENCE].length>0,c={},d={broadcast:i,presence:Object.assign(Object.assign({},n),{enabled:l}),postgres_changes:a,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(gs.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(gs.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",t=>u(this,[t],function*({postgres_changes:t}){var r;if(this.socket.setAuth(),void 0!==t){const s=this.bindings.postgres_changes,i=null!==(r=null==s?void 0:s.length)&&void 0!==r?r:0,n=[];for(let r=0;r<i;r++){const i=s[r],{filter:{event:o,schema:a,table:l,filter:c}}=i,u=t&&t[r];if(!u||u.event!==o||u.schema!==a||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Ur.errored,void(null==e||e(gs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));n.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=n,void(e&&e(gs.SUBSCRIBED))}null==e||e(gs.SUBSCRIBED)})).receive("error",t=>{this.state=Ur.errored,null==e||e(gs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(gs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(e){return u(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return u(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this.state===Ur.joined&&e===ps.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}send(e){return u(this,arguments,function*(e,t={}){var r,s;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var s,i,n;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(n=null===(i=null===(s=this.params)||void 0===s?void 0:s.config)||void 0===i?void 0:i.broadcast)||void 0===n?void 0:n.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{const{event:n,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const e=yield this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return yield null===(s=e.body)||void 0===s?void 0:s.cancel(),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ur.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ls(this,qr.leave,{},e),r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ur.closed,this.bindings={}}_fetchWithTimeout(e,t,r){return u(this,null,function*(){const s=new AbortController,i=setTimeout(()=>s.abort(),r),n=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),n})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ls(this,e,t,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,i;const n=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:c}=qr;if(r&&[o,a,l,c].indexOf(n)>=0&&r!==this._joinRef())return;let u=this._onMessage(n,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(n)?null===(s=this.bindings.postgres_changes)||void 0===s||s.filter(e=>{var t,r,s;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(s=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===s?void 0:s.toLocaleLowerCase())===n}).map(e=>e.callback(u,r)):null===(i=this.bindings[n])||void 0===i||i.filter(e=>{var r,s,i,o,a,l;if(["broadcast","presence","postgres_changes"].includes(n)){if("id"in e){const n=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return n&&(null===(s=t.ids)||void 0===s?void 0:s.includes(n))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const r=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===n}).map(e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:s,type:i,errors:n}=e,o={schema:t,table:r,commit_timestamp:s,eventType:i,new:{},old:{},errors:n};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===Ur.closed}_isJoined(){return this.state===Ur.joined}_isJoining(){return this.state===Ur.joining}_isLeaving(){return this.state===Ur.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var s;return!((null===(s=e.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&vs.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qr.close,{},e)}_onError(e){this._on(qr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ur.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Qr(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Qr(e.columns,e.old_record)),t}}const bs=()=>{},ws=25e3,_s=10,ks=100,xs=[1e3,2e3,5e3,1e4];class Ss{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lr,this.transport=null,this.heartbeatIntervalMs=ws,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bs,this.ref=0,this.reconnectTimer=null,this.logger=bs,this.conn=null,this.sendBuffer=[],this.serializer=new Yr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Y(()=>Promise.resolve().then(()=>tr),void 0).then(({default:t})=>t(...e)).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...e)=>t(...e)},!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Gr.websocket}`,this.httpEndpoint=as(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dr.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return u(this,null,function*(){const t=yield e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t})}removeAllChannels(){return u(this,null,function*(){const e=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wr.connecting:return Hr.Connecting;case Wr.open:return Hr.Open;case Wr.closing:return Hr.Closing;default:return Hr.Closed}}isConnected(){return this.connectionState()===Hr.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(e=>e.topic===r);if(s)return s;{const r=new vs(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:s,ref:i}=e,n=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${i})`,s),this.isConnected()?n():this.sendBuffer.push(n)}setAuth(e=null){return u(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return u(this,null,function*(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},ks);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:s,ref:i}=e,n=i?`(${i})`:"",o=s.status||"";this.log("receive",`${o} ${t} ${r} ${n}`.trim(),s),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,s,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qr.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}_performAuth(e=null){return u(this,null,function*(){let t;t=e||(this.accessToken?yield this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.15.1"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(qr.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return u(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Xr(()=>u(this,null,function*(){setTimeout(()=>u(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),_s)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,s,i,n,o,a,l;if(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:Lr,this.heartbeatIntervalMs=null!==(s=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==s?s:ws,this.worker=null!==(i=null==e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(n=null==e?void 0:e.accessToken)&&void 0!==n?n:null,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null==e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>xs[e-1]||1e4,this.encode=null!==(a=null==e?void 0:e.encode)&&void 0!==a?a:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null==e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class js extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ts(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class Es extends js{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cs extends js{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ps=globalThis&&globalThis.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(i,n){function o(e){try{l(s.next(e))}catch(t){n(t)}}function a(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((s=s.apply(e,t||[])).next())})};const Os=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Y(()=>Promise.resolve().then(()=>tr),void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},As=e=>{if(Array.isArray(e))return e.map(e=>As(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const s=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[s]=As(r)}),t};var Is=globalThis&&globalThis.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(i,n){function o(e){try{l(s.next(e))}catch(t){n(t)}}function a(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((s=s.apply(e,t||[])).next())})};const $s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rs=(e,t,r)=>Is(void 0,void 0,void 0,function*(){const s=yield Ps(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Y(()=>Promise.resolve().then(()=>tr),void 0)).Response:Response});e instanceof s&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(null==r?void 0:r.statusCode)||s+"";t(new Es($s(r),s,i))}).catch(e=>{t(new Cs($s(e),e))}):t(new Cs($s(e),e))}),Ms=(e,t,r,s)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&s?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(s)?(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,(null==t?void 0:t.duplex)&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r)):i};function Ns(e,t,r,s,i,n){return Is(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Ms(t,s,i,n)).then(e=>{if(!e.ok)throw e;return(null==s?void 0:s.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>Rs(e,a,s))})})}function Ds(e,t,r,s){return Is(this,void 0,void 0,function*(){return Ns(e,"GET",t,r,s)})}function Ls(e,t,r,s,i){return Is(this,void 0,void 0,function*(){return Ns(e,"POST",t,s,i,r)})}function Ws(e,t,r,s,i){return Is(this,void 0,void 0,function*(){return Ns(e,"PUT",t,s,i,r)})}function Bs(e,t,r,s,i){return Is(this,void 0,void 0,function*(){return Ns(e,"DELETE",t,s,i,r)})}var Us=globalThis&&globalThis.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(i,n){function o(e){try{l(s.next(e))}catch(t){n(t)}}function a(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((s=s.apply(e,t||[])).next())})};const zs={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qs={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fs{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Os(s)}uploadOrUpdate(e,t,r,s){return Us(this,void 0,void 0,function*(){try{let i;const n=Object.assign(Object.assign({},qs),s);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(n.upsert)});const a=n.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(i=new FormData,i.append("cacheControl",n.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(i=r,i.append("cacheControl",n.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,o["cache-control"]=`max-age=${n.cacheControl}`,o["content-type"]=n.contentType,a&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==s?void 0:s.headers)&&(o=Object.assign(Object.assign({},o),s.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Ws:Ls)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:o},(null==n?void 0:n.duplex)?{duplex:n.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(i){if(Ts(i))return{data:null,error:i};throw i}})}upload(e,t,r){return Us(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return Us(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),n=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${n}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:qs.upsert},s),n=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,n["cache-control"]=`max-age=${t.cacheControl}`,n["content-type"]=t.contentType);return{data:{path:i,fullPath:(yield Ws(this.fetch,o.toString(),e,{headers:n})).Key},error:null}}catch(a){if(Ts(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,t){return Us(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(s["x-upsert"]="true");const i=yield Ls(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),n=new URL(this.url+i.url),o=n.searchParams.get("token");if(!o)throw new js("No token returned by API");return{data:{signedUrl:n.toString(),path:e,token:o},error:null}}catch(r){if(Ts(r))return{data:null,error:r};throw r}})}update(e,t,r){return Us(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Us(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ts(s))return{data:null,error:s};throw s}})}copy(e,t,r){return Us(this,void 0,void 0,function*(){try{return{data:{path:(yield Ls(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ts(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return Us(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ls(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const n=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${n}`)},{data:i,error:null}}catch(s){if(Ts(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return Us(this,void 0,void 0,function*(){try{const s=yield Ls(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:s.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(s){if(Ts(s))return{data:null,error:s};throw s}})}download(e,t){return Us(this,void 0,void 0,function*(){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",s=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=s?`?${s}`:"";try{const t=this._getFinalPath(e),s=yield Ds(this.fetch,`${this.url}/${r}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield s.blob(),error:null}}catch(n){if(Ts(n))return{data:null,error:n};throw n}})}info(e){return Us(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Ds(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:As(e),error:null}}catch(r){if(Ts(r))return{data:null,error:r};throw r}})}exists(e){return Us(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,s){return Is(this,void 0,void 0,function*(){return Ns(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ts(r)&&r instanceof Cs){const e=r.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&s.push(i);const n=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&s.push(o);let a=s.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${n}/public/${r}${a}`)}}}remove(e){return Us(this,void 0,void 0,function*(){try{return{data:yield Bs(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ts(t))return{data:null,error:t};throw t}})}list(e,t,r){return Us(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},zs),t),{prefix:e||""});return{data:yield Ls(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ts(s))return{data:null,error:s};throw s}})}listV2(e,t){return Us(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ls(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(Ts(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Gs={"X-Client-Info":"storage-js/2.11.0"};var Hs=globalThis&&globalThis.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(i,n){function o(e){try{l(s.next(e))}catch(t){n(t)}}function a(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((s=s.apply(e,t||[])).next())})};class Ks{constructor(e,t={},r,s){const i=new URL(e);if(null==s?void 0:s.useNewHostname){/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."))}this.url=i.href,this.headers=Object.assign(Object.assign({},Gs),t),this.fetch=Os(r)}listBuckets(){return Hs(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ts(e))return{data:null,error:e};throw e}})}getBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Ts(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Hs(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ts(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Hs(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ts(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ts(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield Bs(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Ts(t))return{data:null,error:t};throw t}})}}class Vs extends Ks{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new Fs(this.url,this.headers,e,this.fetch)}}let Js="";Js="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Ys={headers:{"X-Client-Info":`supabase-js-${Js}/2.55.0`}},Xs={schema:"public"},Qs={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zs={};var ei=globalThis&&globalThis.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(i,n){function o(e){try{l(s.next(e))}catch(t){n(t)}}function a(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((s=s.apply(e,t||[])).next())})};const ti=(e,t,r)=>{const s=(e=>{let t;return t=e||("undefined"==typeof fetch?Xt:fetch),(...e)=>t(...e)})(r),i="undefined"==typeof Headers?Qt:Headers;return(r,n)=>ei(void 0,void 0,void 0,function*(){var o;const a=null!==(o=yield t())&&void 0!==o?o:e;let l=new i(null==n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),s(r,Object.assign(Object.assign({},n),{headers:l}))})};var ri=globalThis&&globalThis.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(i,n){function o(e){try{l(s.next(e))}catch(t){n(t)}}function a(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((s=s.apply(e,t||[])).next())})};const si="2.71.1",ii=3e4,ni=9e4,oi={"X-Client-Info":`gotrue-js/${si}`},ai="X-Supabase-Api-Version",li={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},ci=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ui extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function di(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class hi extends ui{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class pi extends ui{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class fi extends ui{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class gi extends fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class mi extends fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yi extends fi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vi extends fi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bi extends fi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wi extends fi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function _i(e){return di(e)&&"AuthRetryableFetchError"===e.name}class ki extends fi{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class xi extends fi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ji=" \t\n\r=".split(""),Ti=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ji.length;t+=1)e[ji[t].charCodeAt(0)]=-2;for(let t=0;t<Si.length;t+=1)e[Si[t].charCodeAt(0)]=t;return e})();function Ei(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Si[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Si[e]),t.queuedBits-=6}}function Ci(e,t,r){const s=Ti[e];if(!(s>-1)){if(-2===s)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Pi(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,s,r)};for(let o=0;o<e.length;o+=1)Ci(e.charCodeAt(o),i,n);return t.join("")}function Oi(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Ai(e){const t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)Ci(e.charCodeAt(i),r,s);return new Uint8Array(t)}function Ii(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const t=1024*(s-55296)&65535;s=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Oi(s,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function $i(e){const t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};return e.forEach(e=>Ei(e,r,s)),Ei(null,r,s),t.join("")}const Ri=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Mi={tested:!1,writable:!1},Ni=()=>{if(!Ri())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(Mi.tested)return Mi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mi.tested=!0,Mi.writable=!0}catch(t){Mi.tested=!0,Mi.writable=!1}return Mi.writable};const Di=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Y(()=>Promise.resolve().then(()=>tr),void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},Li=(e,t,r)=>u(void 0,null,function*(){yield e.setItem(t,JSON.stringify(r))}),Wi=(e,t)=>u(void 0,null,function*(){const r=yield e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(s){return r}}),Bi=(e,t)=>u(void 0,null,function*(){yield e.removeItem(t)});class Ui{constructor(){this.promise=new Ui.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function zi(e){const t=e.split(".");if(3!==t.length)throw new xi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ci.test(t[r]))throw new xi("JWT not in base64url format");return{header:JSON.parse(Pi(t[0])),payload:JSON.parse(Pi(t[1])),signature:Ai(t[2]),raw:{header:t[0],payload:t[1]}}}function qi(e){return("0"+e.toString(16)).substr(-2)}function Fi(e){return u(this,null,function*(){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=yield function(e){return u(this,null,function*(){const t=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(e=>String.fromCharCode(e)).join("")})}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Gi(e,t,r=!1){return u(this,null,function*(){const s=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let s=0;s<56;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,qi).join("")}();let i=s;r&&(i+="/PASSWORD_RECOVERY"),yield Li(e,`${t}-code-verifier`,i);const n=yield Fi(s);return[n,s===n?"plain":"s256"]})}Ui.promiseConstructor=Promise;const Hi=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Ki=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vi(e){if(!Ki.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ji(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yi(e){return JSON.parse(JSON.stringify(e))}var Xi=globalThis&&globalThis.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]])}return r};const Qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zi=[502,503,504];function en(e){return u(this,null,function*(){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new wi(Qi(e),0);if(Zi.includes(e.status))throw new wi(Qi(e),e.status);let s,i;try{s=yield e.json()}catch(o){throw new pi(Qi(o),o)}const n=function(e){const t=e.headers.get(ai);if(!t)return null;if(!t.match(Hi))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(o){return null}}(e);if(n&&n.getTime()>=li.timestamp&&"object"==typeof s&&s&&"string"==typeof s.code?i=s.code:"object"==typeof s&&s&&"string"==typeof s.error_code&&(i=s.error_code),i){if("weak_password"===i)throw new ki(Qi(s),e.status,(null===(t=s.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new gi}else if("object"==typeof s&&s&&"object"==typeof s.weak_password&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new ki(Qi(s),e.status,s.weak_password.reasons);throw new hi(Qi(s),e.status||500,i)})}function tn(e,t,r,s){return u(this,null,function*(){var i;const n=Object.assign({},null==s?void 0:s.headers);n[ai]||(n[ai]=li.name),(null==s?void 0:s.jwt)&&(n.Authorization=`Bearer ${s.jwt}`);const o=null!==(i=null==s?void 0:s.query)&&void 0!==i?i:{};(null==s?void 0:s.redirectTo)&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield function(e,t,r,s,i,n){return u(this,null,function*(){const o=((e,t,r,s)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),r))})(t,s,i,n);let a;try{a=yield e(r,Object.assign({},o))}catch(l){throw new wi(Qi(l),0)}if(a.ok||(yield en(a)),null==s?void 0:s.noResolveJson)return a;try{return yield a.json()}catch(l){yield en(l)}})}(e,t,r+a,{headers:n,noResolveJson:null==s?void 0:s.noResolveJson},{},null==s?void 0:s.body);return(null==s?void 0:s.xform)?null==s?void 0:s.xform(l):{data:Object.assign({},l),error:null}})}function rn(e){var t;let r=null;var s;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(s=e.expires_in,Math.round(Date.now()/1e3)+s)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function sn(e){const t=rn(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function nn(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function on(e){return{data:e,error:null}}function an(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:i,verification_type:n}=e,o=Xi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:s,redirect_to:i,verification_type:n},user:Object.assign({},o)},error:null}}function ln(e){return e}const cn=["global","local","others"];var un=globalThis&&globalThis.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]])}return r};class dn{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Di(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return u(this,arguments,function*(e,t=cn[0]){if(cn.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cn.join(", ")}`);try{return yield tn(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(di(r))return{data:null,error:r};throw r}})}inviteUserByEmail(e){return u(this,arguments,function*(e,t={}){try{return yield tn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:nn})}catch(r){if(di(r))return{data:{user:null},error:r};throw r}})}generateLink(e){return u(this,null,function*(){try{const{options:t}=e,r=un(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=null==r?void 0:r.newEmail,delete s.newEmail),yield tn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:an,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(di(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return u(this,null,function*(){try{return yield tn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nn})}catch(t){if(di(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return u(this,null,function*(){var t,r,s,i,n,o,a;try{const l={nextPage:null,lastPage:0,total:0},c=yield tn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(s=null==e?void 0:e.perPage)||void 0===s?void 0:s.toString())&&void 0!==i?i:""},xform:ln});if(c.error)throw c.error;const u=yield c.json(),d=null!==(n=c.headers.get("x-total-count"))&&void 0!==n?n:0,h=null!==(a=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(di(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return u(this,null,function*(){Vi(e);try{return yield tn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nn})}catch(t){if(di(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return u(this,null,function*(){Vi(e);try{return yield tn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:nn})}catch(r){if(di(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return u(this,null,function*(){Vi(e);try{return yield tn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:nn})}catch(r){if(di(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return u(this,null,function*(){Vi(e.userId);try{const{data:t,error:r}=yield tn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(di(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return u(this,null,function*(){Vi(e.userId),Vi(e.id);try{return{data:yield tn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(di(t))return{data:null,error:t};throw t}})}}function hn(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const pn=!!(globalThis&&Ni()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class fn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gn extends fn{}function mn(e,t,r){return u(this,null,function*(){const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort()},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},s=>u(this,null,function*(){if(!s){if(0===t)throw new gn(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(pn)try{yield globalThis.navigator.locks.query()}catch(i){}return yield r()}try{return yield r()}finally{}})))})}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const yn={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oi,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function vn(e,t,r){return u(this,null,function*(){return yield r()})}const bn={};class wn{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wn.nextInstanceID,wn.nextInstanceID+=1,this.instanceID>0&&Ri();const s=Object.assign(Object.assign({},yn),e);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new dn({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Di(s.fetch),this.lock=s.lock||vn,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ri()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=mn:this.lock=vn,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ni()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hn(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=hn(this.memoryStorage)),Ri()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",e=>u(this,null,function*(){this._debug("received broadcast notification from other tab or client",e),yield this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=bn[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=bn[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${si}) ${(new Date).toISOString()}`,...e),this}initialize(){return u(this,null,function*(){return this.initializePromise||(this.initializePromise=(()=>u(this,null,function*(){return yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._initialize()}))}))()),yield this.initializePromise})}_initialize(){return u(this,null,function*(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(s){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":(yield this._isPKCECallback(t))&&(r="pkce"),Ri()&&this.detectSessionInUrl&&"none"!==r){const{data:s,error:i}=yield this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return di(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return yield this._removeSession(),{error:i}}const{session:n,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",o),yield this._saveSession(n),setTimeout(()=>u(this,null,function*(){"recovery"===o?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",n):yield this._notifyAllSubscribers("SIGNED_IN",n)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return di(t)?{error:t}:{error:new pi("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return u(this,null,function*(){var t,r,s;try{const i=yield tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken}},xform:rn}),{data:n,error:o}=i;if(o||!n)return{data:{user:null,session:null},error:o};const a=n.session,l=n.user;return n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(di(i))return{data:{user:null,session:null},error:i};throw i}})}signUp(e){return u(this,null,function*(){var t,r,s;try{let i;if("email"in e){const{email:r,password:s,options:n}=e;let o=null,a=null;"pkce"===this.flowType&&([o,a]=yield Gi(this.storage,this.storageKey)),i=yield tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:{email:r,password:s,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:o,code_challenge_method:a},xform:rn})}else{if(!("phone"in e))throw new yi("You must provide either an email or phone number and a password");{const{phone:t,password:n,options:o}=e;i=yield tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!==(r=null==o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(s=null==o?void 0:o.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:rn})}}const{data:n,error:o}=i;if(o||!n)return{data:{user:null,session:null},error:o};const a=n.session,l=n.user;return n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(di(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(e){return u(this,null,function*(){try{let t;if("email"in e){const{email:r,password:s,options:i}=e;t=yield tn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:sn})}else{if(!("phone"in e))throw new yi("You must provide either an email or phone number and a password");{const{phone:r,password:s,options:i}=e;t=yield tn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:sn})}}const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:r&&r.session&&r.user?(r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s}):{data:{user:null,session:null},error:new mi}}catch(t){if(di(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return u(this,null,function*(){var t,r,s,i;return yield this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(e){return u(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>u(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return u(this,null,function*(){const{chain:t}=e;if("solana"===t)return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)})}signInWithSolana(e){return u(this,null,function*(){var t,r,s,i,n,o,a,l,c,u,d,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:d,wallet:h,statement:g,options:m}=e;let y;if(Ri())if("object"==typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!=typeof h||!(null==m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null==m?void 0:m.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=yield y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==m?void 0:m.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in y&&"function"==typeof y.signMessage&&"publicKey"in y&&"object"==typeof y&&y.publicKey&&"toBase58"in y.publicKey&&"function"==typeof y.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${v.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(s=null===(r=null==m?void 0:m.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...(null===(i=null==m?void 0:m.signInWithSolana)||void 0===i?void 0:i.notBefore)?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...(null===(n=null==m?void 0:m.signInWithSolana)||void 0===n?void 0:n.expirationTime)?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...(null===(o=null==m?void 0:m.signInWithSolana)||void 0===o?void 0:o.chainId)?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...(null===(a=null==m?void 0:m.signInWithSolana)||void 0===a?void 0:a.nonce)?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...(null===(l=null==m?void 0:m.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null==m?void 0:m.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...m.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=yield y.signMessage((new TextEncoder).encode(p),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:r}=yield tn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:$i(f)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:rn});if(r)throw r;return t&&t.session&&t.user?(t.session&&(yield this._saveSession(t.session),yield this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new mi}}catch(g){if(di(g))return{data:{user:null,session:null},error:g};throw g}})}_exchangeCodeForSession(e){return u(this,null,function*(){const t=yield Wi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(null!=t?t:"").split("/");try{const{data:t,error:i}=yield tn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:rn});if(yield Bi(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return t&&t.session&&t.user?(t.session&&(yield this._saveSession(t.session),yield this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=s?s:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new mi}}catch(i){if(di(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}})}signInWithIdToken(e){return u(this,null,function*(){try{const{options:t,provider:r,token:s,access_token:i,nonce:n}=e,o=yield tn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:rn}),{data:a,error:l}=o;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new mi}}catch(t){if(di(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return u(this,null,function*(){var t,r,s,i,n;try{if("email"in e){const{email:s,options:i}=e;let n=null,o=null;"pkce"===this.flowType&&([n,o]=yield Gi(this.storage,this.storageKey));const{error:a}=yield tn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(r=null==i?void 0:i.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:n,code_challenge_method:o},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:r}=e,{data:o,error:a}=yield tn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(s=null==r?void 0:r.data)&&void 0!==s?s:{},create_user:null===(i=null==r?void 0:r.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(n=null==r?void 0:r.channel)&&void 0!==n?n:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new yi("You must provide either an email or phone number.")}catch(o){if(di(o))return{data:{user:null,session:null},error:o};throw o}})}verifyOtp(e){return u(this,null,function*(){var t,r;try{let s,i;"options"in e&&(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:n,error:o}=yield tn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rn});if(o)throw o;if(!n)throw new Error("An error occurred on token verification.");const a=n.session,l=n.user;return(null==a?void 0:a.access_token)&&(yield this._saveSession(a),yield this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(di(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(e){return u(this,null,function*(){var t,r,s;try{let i=null,n=null;return"pkce"===this.flowType&&([i,n]=yield Gi(this.storage,this.storageKey)),yield tn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:n}),headers:this.headers,xform:on})}catch(i){if(di(i))return{data:null,error:i};throw i}})}reauthenticate(){return u(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return u(this,null,function*(){try{return yield this._useSession(e=>u(this,null,function*(){const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new gi;const{error:s}=yield tn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}}))}catch(e){if(di(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return u(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:n}=yield tn(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:n}}if("phone"in e){const{phone:r,type:s,options:i}=e,{data:n,error:o}=yield tn(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:o}}throw new yi("You must provide either an email or phone number and a type")}catch(t){if(di(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return u(this,null,function*(){yield this.initializePromise;return yield this._acquireLock(-1,()=>u(this,null,function*(){return this._useSession(e=>u(this,null,function*(){return e}))}))})}_acquireLock(e,t){return u(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(()=>u(this,null,function*(){return yield e,yield t()}))();return this.pendingInLock.push((()=>u(this,null,function*(){try{yield r}catch(e){}}))()),r}return yield this.lock(`lock:${this.storageKey}`,e,()=>u(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((()=>u(this,null,function*(){try{yield e}catch(t){}}))()),yield e;this.pendingInLock.length;){const e=[...this.pendingInLock];yield Promise.all(e),this.pendingInLock.splice(0,e.length)}return yield e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return u(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return u(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=yield Wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<ni;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=yield Wi(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=Ji()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,s)=>(t||"user"!==r||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,s))})}return{data:{session:e},error:null}}const{session:s,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return u(this,null,function*(){if(e)return yield this._getUser(e);yield this.initializePromise;return yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._getUser()}))})}_getUser(e){return u(this,null,function*(){try{return e?yield tn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nn}):yield this._useSession(e=>u(this,null,function*(){var t,r,s;const{data:i,error:n}=e;if(n)throw n;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?yield tn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(s=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0,xform:nn}):{data:{user:null},error:new gi}}))}catch(t){if(di(t))return function(e){return di(e)&&"AuthSessionMissingError"===e.name}(t)&&(yield this._removeSession(),yield Bi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(e){return u(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(e){return u(this,arguments,function*(e,t={}){try{return yield this._useSession(r=>u(this,null,function*(){const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new gi;const n=s.session;let o=null,a=null;"pkce"===this.flowType&&null!=e.email&&([o,a]=yield Gi(this.storage,this.storageKey));const{data:l,error:c}=yield tn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:n.access_token,xform:nn});if(c)throw c;return n.user=l.user,yield this._saveSession(n),yield this._notifyAllSubscribers("USER_UPDATED",n),{data:{user:n.user},error:null}}))}catch(r){if(di(r))return{data:{user:null},error:r};throw r}})}setSession(e){return u(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return u(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new gi;const t=Date.now()/1e3;let r=t,s=!0,i=null;const{payload:n}=zi(e.access_token);if(n.exp&&(r=n.exp,s=r<=t),s){const{session:t,error:r}=yield this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:s,error:n}=yield this._getUser(e.access_token);if(n)throw n;i={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-t,expires_at:r},yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(di(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return u(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return u(this,null,function*(){try{return yield this._useSession(t=>u(this,null,function*(){var r;if(!e){const{data:s,error:i}=t;if(i)throw i;e=null!==(r=s.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new gi;const{session:s,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(di(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e,t){return u(this,null,function*(){try{if(!Ri())throw new vi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new bi("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new vi("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bi("No code detected.");const{data:t,error:r}=yield this._exchangeCodeForSession(e.code);if(r)throw r;const s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:n,expires_in:o,expires_at:a,token_type:l}=e;if(!(i&&o&&n&&l))throw new vi("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;a&&(d=parseInt(a));const{data:h,error:p}=yield this._getUser(i);if(p)throw p;const f={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:u,expires_at:d,refresh_token:n,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:e.type},error:null}}catch(r){if(di(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}_isPKCECallback(e){return u(this,null,function*(){const t=yield Wi(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)})}signOut(){return u(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return u(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>u(this,null,function*(){var r;const{data:s,error:i}=t;if(i)return{error:i};const n=null===(r=s.session)||void 0===r?void 0:r.access_token;if(n){const{error:t}=yield this.admin.signOut(n,e);if(t&&(!function(e){return di(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(yield this._removeSession(),yield Bi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(()=>{u(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){this._emitInitialSession(t)}))})})(),{data:{subscription:r}}}_emitInitialSession(e){return u(this,null,function*(){return yield this._useSession(t=>u(this,null,function*(){var r,s;try{const{data:{session:s},error:i}=t;if(i)throw i;yield null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(i){yield null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",i)}}))})}resetPasswordForEmail(e){return u(this,arguments,function*(e,t={}){let r=null,s=null;"pkce"===this.flowType&&([r,s]=yield Gi(this.storage,this.storageKey,!0));try{return yield tn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(di(i))return{data:null,error:i};throw i}})}getUserIdentities(){return u(this,null,function*(){var e;try{const{data:t,error:r}=yield this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(di(t))return{data:null,error:t};throw t}})}linkIdentity(e){return u(this,null,function*(){var t;try{const{data:r,error:s}=yield this._useSession(t=>u(this,null,function*(){var r,s,i,n,o;const{data:a,error:l}=t;if(l)throw l;const c=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return yield tn(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==o?o:void 0})}));if(s)throw s;return Ri()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(r){if(di(r))return{data:{provider:e.provider,url:null},error:r};throw r}})}unlinkIdentity(e){return u(this,null,function*(){try{return yield this._useSession(t=>u(this,null,function*(){var r,s;const{data:i,error:n}=t;if(n)throw n;return yield tn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(s=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0})}))}catch(t){if(di(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return u(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return yield function(e,t){return new Promise((r,s)=>{(()=>{u(this,null,function*(){for(let n=0;n<1/0;n++)try{const s=yield e(n);if(!t(n,null,s))return void r(s)}catch(i){if(!t(n,i))return void s(i)}})})()})}(r=>u(this,null,function*(){return r>0&&(yield function(e){return u(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}(200*Math.pow(2,r-1))),this._debug(t,"refreshing attempt",r),yield tn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rn})}),(e,t)=>{const s=200*Math.pow(2,e);return t&&_i(t)&&Date.now()+s-r<ii})}catch(r){if(this._debug(t,"error",r),di(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}})}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return u(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ri()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}})}_recoverAndRefresh(){return u(this,null,function*(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=yield Wi(this.storage,this.storageKey);if(i&&this.userStorage){let t=yield Wi(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:i.user},yield Li(this.userStorage,this.storageKey+"-user",t)),i.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:Ji()}else if(i&&!i.user&&!i.user){const e=yield Wi(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(i.user=e.user,yield Bi(this.storage,this.storageKey+"-user"),yield Li(this.storage,this.storageKey,i)):i.user=Ji()}if(this._debug(r,"session from storage",i),!this._isValidSession(i))return this._debug(r,"session is not valid"),void(null!==i&&(yield this._removeSession()));const n=1e3*(null!==(t=i.expires_at)&&void 0!==t?t:1/0)-Date.now()<ni;if(this._debug(r,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&i.refresh_token){const{error:e}=yield this._callRefreshToken(i.refresh_token);e&&(_i(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),yield this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=yield this._getUser(i.access_token);!t&&(null==e?void 0:e.user)?(i.user=e.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return void this._debug(r,"error",i)}finally{this._debug(r,"end")}})}_callRefreshToken(e){return u(this,null,function*(){var t,r;if(!e)throw new gi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ui;const{data:t,error:r}=yield this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new gi;yield this._saveSession(t.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const s={session:t.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(s,"error",i),di(i)){const e={session:null,error:i};return _i(i)||(yield this._removeSession()),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(e,t,r=!0){return u(this,null,function*(){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(r=>u(this,null,function*(){try{yield r.callback(e,t)}catch(i){s.push(i)}}));if(yield Promise.all(i),s.length>0){for(let e=0;e<s.length;e+=1);throw s[0]}}finally{this._debug(s,"end")}})}_saveSession(e){return u(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&(yield Li(this.userStorage,this.storageKey+"-user",{user:t.user}));const e=Object.assign({},t);delete e.user;const s=Yi(e);yield Li(this.storage,this.storageKey,s)}else{const e=Yi(t);yield Li(this.storage,this.storageKey,e)}})}_removeSession(){return u(this,null,function*(){this._debug("#_removeSession()"),yield Bi(this.storage,this.storageKey),yield Bi(this.storage,this.storageKey+"-code-verifier"),yield Bi(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Bi(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ri()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}_startAutoRefresh(){return u(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ii);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(()=>u(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return u(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return u(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return u(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return u(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>u(this,null,function*(){try{const t=Date.now();try{return yield this._useSession(e=>u(this,null,function*(){const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const s=Math.floor((1e3*r.expires_at-t)/ii);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&(yield this._callRefreshToken(r.refresh_token))}))}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof fn))throw e;this._debug("auto refresh token tick lock not available")}})}_handleVisibilityChange(){return u(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ri()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>u(this,null,function*(){return yield this._onVisibilityChanged(!1)}),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){}})}_onVisibilityChanged(e){return u(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){"visible"===document.visibilityState?yield this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,r){return u(this,null,function*(){const s=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=yield Gi(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});s.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);s.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`})}_unenroll(e){return u(this,null,function*(){try{return yield this._useSession(t=>u(this,null,function*(){var r;const{data:s,error:i}=t;return i?{data:null,error:i}:yield tn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(di(t))return{data:null,error:t};throw t}})}_enroll(e){return u(this,null,function*(){try{return yield this._useSession(t=>u(this,null,function*(){var r,s;const{data:i,error:n}=t;if(n)return{data:null,error:n};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=yield tn(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(s=null==a?void 0:a.totp)||void 0===s?void 0:s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(t){if(di(t))return{data:null,error:t};throw t}})}_verify(e){return u(this,null,function*(){return this._acquireLock(-1,()=>u(this,null,function*(){try{return yield this._useSession(t=>u(this,null,function*(){var r;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:n,error:o}=yield tn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+n.expires_in},n)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",n),{data:n,error:o})}))}catch(t){if(di(t))return{data:null,error:t};throw t}}))})}_challenge(e){return u(this,null,function*(){return this._acquireLock(-1,()=>u(this,null,function*(){try{return yield this._useSession(t=>u(this,null,function*(){var r;const{data:s,error:i}=t;return i?{data:null,error:i}:yield tn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(di(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return u(this,null,function*(){const{data:t,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return u(this,null,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],s=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),i=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:s,phone:i},error:null}})}_getAuthenticatorAssuranceLevel(){return u(this,null,function*(){return this._acquireLock(-1,()=>u(this,null,function*(){return yield this._useSession(e=>u(this,null,function*(){var t,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:n}=zi(s.access_token);let o=null;n.aal&&(o=n.aal);let a=o;(null!==(r=null===(t=s.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(a="aal2");return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:n.amr||[]},error:null}}))}))})}fetchJwk(e){return u(this,arguments,function*(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>s)return r;const{data:i,error:n}=yield tn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;return i.keys&&0!==i.keys.length?(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(t=>t.kid===e),r||null):null})}getClaims(e){return u(this,arguments,function*(e,t={}){try{let r=e;if(!r){const{data:e,error:t}=yield this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:s,payload:i,signature:n,raw:{header:o,payload:a}}=zi(r);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp);const l=s.alg&&!s.alg.startsWith("HS")&&s.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield this.fetchJwk(s.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=yield this.getUser(r);if(e)throw e;return{data:{claims:i,header:s,signature:n},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(s.alg),u=yield crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(yield crypto.subtle.verify(c,u,n,Ii(`${o}.${a}`))))throw new xi("Invalid JWT signature");return{data:{claims:i,header:s,signature:n},error:null}}catch(r){if(di(r))return{data:null,error:r};throw r}})}}wn.nextInstanceID=0;const _n=wn;class kn extends _n{constructor(e){super(e)}}var xn=globalThis&&globalThis.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(i,n){function o(e){try{l(s.next(e))}catch(t){n(t)}}function a(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((s=s.apply(e,t||[])).next())})};class Sn{constructor(e,t,r){var s,i,n;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(a=e).endsWith("/")?a:a+"/";var a;const l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var r,s;const{db:i,auth:n,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),n),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(r=null==d?void 0:d.headers)&&void 0!==r?r:{}),null!==(s=null==a?void 0:a.headers)&&void 0!==s?s:{})}),accessToken:()=>ri(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=r?r:{},{db:Xs,realtime:Zs,auth:Object.assign(Object.assign({},Qs),{storageKey:c}),global:Ys});this.storageKey=null!==(s=u.auth.storageKey)&&void 0!==s?s:"",this.headers=null!==(i=u.global.headers)&&void 0!==i?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(n=u.auth)&&void 0!==n?n:{},this.headers,u.global.fetch),this.fetch=ti(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ar(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Vs(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new zt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return xn(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:i,flowType:n,lock:o,debug:a},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kn({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:n,lock:o,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ss(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();const jn=new Sn("https://jaiyxoysjethlblbicfd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImphaXl4b3lzamV0aGxibGJpY2ZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE1NzA4NDYsImV4cCI6MjA2NzE0Njg0Nn0.h3YXLROOz1hdqs5IvSzvbNCpA1C96x6X5Wnf-H7dzTs",Tn);var Tn;const En=f.createContext(void 0),Cn=({children:e})=>{const{toast:t}=Qe(),[r,s]=f.useState(null),[i,n]=f.useState(null),[o,a]=f.useState(!0),l=f.useCallback(e=>u(void 0,null,function*(){var t;n(e),s(null!=(t=null==e?void 0:e.user)?t:null),a(!1)}),[]);f.useEffect(()=>{u(void 0,null,function*(){const{data:{session:e}}=yield jn.auth.getSession();l(e)});const{data:{subscription:e}}=jn.auth.onAuthStateChange((e,t)=>u(void 0,null,function*(){l(t)}));return()=>e.unsubscribe()},[l]);const c=f.useCallback((e,r,s)=>u(void 0,null,function*(){const{error:i}=yield jn.auth.signUp({email:e,password:r,options:s});return i&&t({variant:"destructive",title:"Sign up Failed",description:i.message||"Something went wrong"}),{error:i}}),[t]),d=f.useCallback((e,r)=>u(void 0,null,function*(){const{error:s}=yield jn.auth.signInWithPassword({email:e,password:r});return s&&t({variant:"destructive",title:"Sign in Failed",description:s.message||"Something went wrong"}),{error:s}}),[t]),p=f.useCallback(()=>u(void 0,null,function*(){const{error:e}=yield jn.auth.signOut();return e&&t({variant:"destructive",title:"Sign out Failed",description:e.message||"Something went wrong"}),{error:e}}),[t]),g=f.useMemo(()=>({user:r,session:i,loading:o,signUp:c,signIn:d,signOut:p}),[r,i,o,c,d,p]);return h.jsx(En.Provider,{value:g,children:e})},Pn=f.createContext(),On=()=>f.useContext(Pn),An=({children:e})=>{const t=x(),[r,s]=f.useState("");f.useEffect(()=>{t.search&&s(t.search)},[t.search]);const i={queryParams:r};return h.jsx(Pn.Provider,{value:i,children:e})};N.createRoot(document.getElementById("root")).render(h.jsx(d.StrictMode,{children:h.jsx(D,{children:h.jsx(L,{children:h.jsx(An,{children:h.jsx(Cn,{children:h.jsx(Rt,{})})})})})}));export{tt as B,lt as H,Le as c,st as p,rt as s,On as u};
